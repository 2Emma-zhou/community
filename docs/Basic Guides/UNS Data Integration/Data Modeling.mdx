supOS uses UNS (Unified Namespace) to organize data into a clear, tree-like structure. Each folder and file in the model automatically generates an MQTT topic, making it easy to get real-time data.

## Things to Notice before Start

### Page Overview
Select UNS > Namespace after logging in to supOS, you will see the main page of this module.

<img width={650} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/102.png" />

<table>
  <thead>
    <tr>
      <th>No.</th>
      <th>Item</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="3">1</td>
      <td>Topic</td>
      <td>Tree view of data models already built in UNS</td>
    </tr>
    <tr>
      <td>Template</td>
      <td>Tree view of data model templates already built in UNS</td>
    </tr>
    <tr>
      <td>Label</td>
      <td>Displays labels, and models under each label</td>
    </tr>
    <tr>
      <td rowspan="4">2</td>
      <td><img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/103.png" /></td>
      <td>Displays data models by category: <b>Text/Template/Label</b>.</td>
    </tr>
    <tr>
      <td><img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/104.png" />/<img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/105.png" /></td>
      <td>Search data models / Refresh data model list.</td>
    </tr>
    <tr>
      <td><img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/5.png" />/<img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/7.png" /></td>
      <td>Create folder-file structured data models based on data hierarchy.</td>
    </tr>
    <tr>
      <td><img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/40.png" /></td>
      <td>Create data models by manually entering JSON.</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Unmodeled Topics</td>
      <td>Lists the topics received in the internal broker, which can be transformed to data models. For details, see <a href="#building-models-through-mqtt">Building Models through MQTT</a>.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Overview</td>
      <td>Comprehensive view of existing folders and files, and the number of connections between data sources and the internal MQTT broker</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Topology Map</td>
      <td>Visualizes the data flow using a topology diagram</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Import/Export</td>
      <td>Import/export data models in JSON or Excel format</td>
    </tr>
  </tbody>
</table>


### Extra Parameter Definition
- **Path**

<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Extended Attribute</strong></td>
<td>Add extended attributes for the path. Eg. unit.</td>
</tr>
<tr>
<td><strong>Template</strong></td>
<td>Select a template to inherit attributes from it. See <a href="#building-template">Building Template</a>.</td>
</tr>
<tr>
<td><strong>Generate Template</strong></td>
<td>Click <img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/35.png" alt="icon" /> to add an attribute to the folder, at the same time you can select to generate a same template for future use.</td>
</tr>
</tbody>
</table>

- **Topic-Data Type**

<table>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
<tr>
<td>Time Series</td>
<td>Receive real-time data and store it in TDEngine.</td>
</tr>
<tr>
<td>Relational</td>
<td>Receive relational data and store it in a Postgres database.</td>
</tr>
<tr>
<td>Calculation</td>
<td>Perform basic calculations on the added time series attributes.</td>
</tr>
<tr>
<td>Aggregation</td>
<td>Aggregate the added data sources into JSON at a fixed frequency.</td>
</tr>
<tr>
<td>Reference</td>
<td>Select an existing file and copy its attributes.</td>
</tr>
</table>

- **Topic-Attribute Generation Method**

<table>
<thead>
<tr>
<th>Attribute Generation Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Custom</strong></td>
<td>Customize attributes.</td>
</tr>
<tr>
<td><strong>Template</strong></td>
<td>Inherit attributes from the selected template.</td>
</tr>
<tr>
<td><strong>Reverse Generation</strong></td>
<td>Use JSON text or connected databases to generate attributes with the same structure.</td>
</tr>
</tbody>
</table>

:::info
You can connect databases under **DevTools** > **DBConnect**. For details, see <a href="../Database Management/Database Connection.mdx">Database Connection</a>.
:::

- **Topic-Linked Operation**

<table>
  <thead>
    <tr>
      <th>Item</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Persistence</strong></td>
      <td>Enable historical data storage for the selected file.</td>
    </tr>
    <tr>
      <td><strong>Mock Data</strong></td>
      <td>Generates a data flow with mock data in <strong>UNS</strong> &gt; <strong>Source Flow</strong>.</td>
    </tr>
    <tr>
      <td><strong>Auto-Dashboard</strong></td>
      <td>Generates a dashboard in <strong>System</strong> &gt; <strong>Dashboards</strong>.</td>
    </tr>
  </tbody>
</table>


## How to Build a Data Model
Based on simple folder-file structure, you can define the data hierarchy to a tree map.
### Building Models Manually

:::note
**Factory/workshop/equipment/CNC** will be used as an example, in which `Factory`, `workshop` and `equipment` are paths and `CNC` is a topic.
:::
1. Log in to supOS, and then select **UNS** > **Namespace**.
2. Under **Topic**, click <img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/5.png" /> to add a path (e.g. `factory`).

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/34.png" />

3. Select **equipment**, and then click <img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/7.png" /> to add a topic (e.g.`CNC`) under it.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/36.png" />

4. Enter the information of the topic, and then click **Next**.
5. Select **Enable History** to store data to database, and then click **Save**.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/37.png" />

### Generating Models through JSON
1. Log in to supOS, and then select **UNS** > **Namespace**.
2. Click <img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/40.png" /> on the **Topic** page.

<img width={350} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/40-1.png" />

3. Select the data type, and then write JSON text for the model according to the data tree structure.

```json
{
    "Factory1": {
        "workshop1": {
            "equipment1": {
                "CNC1": [
                    {
                        "actualRuntime1": 1380,
                        "plannedRuntime1": 1440
                    }
                ]
            }
        }
    }
}
```

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/41.png" />

4. Click **Next**, and select the model on the left side.
:::tip
Click on each data level, you can change its information and add attributes on the right side.
:::

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/42.png" />

5. Click **Save**.

### Converting Models through MQTT
1. Use an MQTT client to connect to the internal broker of supOS-CE.
  - **Host**: Your supOS-CE domain.
  - **Port**: 1883.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/118.png" />

2. Define a topic and message payload on the client, and then send it to supOS.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/119.png" />

3. Log in to supOS, and then select **UNS** > **Namespace**.
4. Expand **Unmodeled Topics**, find the topic you defined.
5. Click **Convert** icon next to the topic, and then edit the information and complete the model creation.

<img width={650} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/120.png" />

### Importing Models
1. Log in to supOS, and then select **UNS** > **Namespace**.
2. Click **Import** at the upper-right corner, and then click **Download Template**.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/69.png" />

3. Download the template and enter the model content according to template rules.
:::tip
You can manually add a path and topic, export it and use it as an example for import.
:::
- Through Excel File

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/70.png" />

- Through JSON File

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/70-1.png" />


4. Save the template file, and then click **Import** on the **Namespace** page.
5. Select the template, and then click **Save**.

### Creating Models with Data Source through Source Flow
1. Log in to supOS, and then select **UNS** > **Source Flow**.
2. Click **New Source Flow** to create a flow.
3. Click the flow and drag the **UNS Mapper** node to the canvas.
4. Double-click the node, and configure its properties.
    1. Set the node name, and then under <b>Basic Info</b>, select a protocol next to <b>Select Protocol</b> through which the data is transmitted. 

    <img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/145.png" />

    2. (Optional) Select a model next to <b>Select Model</b> to get an example for subsequent model attributes creation.
    3. Click <b>Tags Mapping</b>, click <b>New Row</b>, and then enter the model information.

    <img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/146.png" />
    <table>
    <thead>
    <tr>
    <th>Parameter</th>
    <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>FilePath (Required)</td>
    <td>Namespace topic path. Use folder/file style, only last level sends data. Example: Workshop1/Line2/CNC01/SpindleTemperature.</td>
    </tr>
    <tr>
    <td>Alias (Optional)</td>
    <td>Custom alias. If blank, system auto-generates unique ID.</td>
    </tr>
    <tr>
    <td>AttributeName (Required)</td>
    <td>Key name in output JSON (e.g., value).</td>
    </tr>
    <tr>
    <td>AttributeType (Required)</td>
    <td>Data type: Float, Integer, String, or Boolean. Node auto-converts.</td>
    </tr>
    <tr>
    <td>TagConfiguration (Required)</td>
    <td>Upstream data locator. Format depends on protocol: OPC UA (nodeId), Modbus (register index), MQTT (payload path), OPC DA (tag path).</td>
    </tr>
    </tbody>
    </table>
5. Complete the node configuration, and then connect a data source node (in this example, **Modbus read**) to the **UNS Mapper** and a **mqtt out** at the end.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/147.png" />

6. Edit properties of both the data source node and **mqtt out** node.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/148.png" /><img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/149.png" />

:::tip
For details on property configuration of common data source nodes, see <a href="../../category/common-data-sources">Common Data Sources</a>.
:::

7. Deploy the flow and trigger it, check the data on **Namespace**.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/150.png" />

## Optional Features
### Building Template
1. On the **Namespace** page, click **Template**.
2. Click <img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/38.png" />, and then enter the information of the template.
:::tip
Click **Source** to select added models and inherit their attributes.
:::

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/39.png" />

3. Click **Save**.

### Creating Label
Labels are used for categorizing data models.
1. On the **Namespace** page, click **Label**.
2. Click <img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/77.png" />, and then enter the label name.
3. Click **Save**, and then click <img src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/78.png" /> to add files under the label.

<img width={450} src="http://communityimage2.oss-cn-hangzhou.aliyuncs.com/79.png" />

4. Click **Save**.